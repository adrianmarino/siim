- content_for :content do
  .form-top
    %legend=t 'title.medical_history.search'
    = form_for :medical_history_search_patient, :url => { :action => "search_patient" }, :html => { :class => 'well form-horizontal', :multipart => true } do |form|
        
      %div.tabbable
        %ul.nav.nav-tabs
          %li.active
            %a{:href => "#dni-panel", 'data-toggle' => 'tab'}= section :search_for_dni
          %li
            %a{:href => "#name-panel", 'data-toggle' => 'tab'}= section :search_for_name

      %div.tab-content
        %div#dni-panel.tab-pane.active
          = form.fields_for :search_for_dni do |f|
            .row-fluid
              .span4			
                .control-group
                  %label.control-label=t("medical_history.search_dni")
                  .controls
                    %input{:type => :text, :id => :dni, :name=> :dni} 


        %div#name-panel.tab-pane
          = form.fields_for :search_for_name do |f|
            .row-fluid
              .span4			
                .control-group
                  %label.control-label=t 'medical_history.search_firstName'
                  .controls
                    %input{:type => :text, :id => :first_name, :name=> :first_name}        
						
              .span4	
                .control-group
                  %label.control-label=t 'medical_history.search_lastName'
                  .controls
                    %input{:type => :text, :id => :last_name, :name=> :last_name}	
        .form-actions
          .row-fluid
            .span4
              = link_to t('medical_history.clean') , search_medical_histories_path, :class => "btn" 
              = submit_tag t('medical_history.search'), :class => "btn btn-primary"
            
            
                       

    - if not @medical_history.nil?
      .custom-search-results
        %table#custom_search_result.table.table-striped.table-bordered{:border => "0", :cellpadding => "0", :cellspacing => "0"}
          %thead.table-header
            %tr
              %th=t "custom_search.result"
              %th.options= t :options
            %tbody
					
              %tr
                %td
                  %ul
                    %li{"style" => "vertical-align: middle;"}=raw( t("medical_history.search_dni") + ' : ' + @medical_history.patient.dni)
                    %li{"style" => "vertical-align: middle;"}=raw(t("medical_history.search_firstName") + ' : ' + @medical_history.patient.firstname + ' ' + @medical_history.patient.lastname)
                %td.options{"style" => "vertical-align: middle;"}
                  =link_to raw("<i class=\"icon-search\">&nbsp;#{t 'actions.show'}</i>"), edit_medical_history_path(:id => @medical_history.id, :back_url =>search_medical_histories_path), :class => "btn"

    - if not @message.nil?
      .custom-search-results
        %table#custom_search_result.table.table-striped.table-bordered{:border => "0", :cellpadding => "0", :cellspacing => "0"}
          %thead.table-header
            %tr
              %th=t "custom_search.result"
            %tbody					
              %tr
                %td{"style" => "vertical-align: middle;"}=raw(t("medical_history.not_found_data"))  
              

    :javascript
      $(document).on('click', '#dni-panel', function() {
        document.getElementById('first_name').value = '';
        document.getElementById('last_name').value = '';
      });
      $(document).on('click', '#name-panel', function() {
        document.getElementById('dni').value = '';
      });




= render :file => 'layouts/application'