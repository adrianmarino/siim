- content_for :content do
	.custom-search-form.span12
		= form_tag :perform_custom_search_medical_histories,  :id=>"custom-search-form", :class=>"form-search form-horizontal pull-right" do
			.input-append
				= text_field_tag :text, params[:text], :class => "search-query span12", :placeholder=> "#{t('custom_search.text')}"
				%button.btn{"type"=>"submit"}
					%i.icon-search

	- if not @medical_histories.nil?
		%legend=t "custom_search.result"
		.custom-search-results
			%table#custom_search_result.table.table-striped.table-bordered{:border => "0", :cellpadding => "0", :cellspacing => "0"}
				%thead.table-header
					%tr
						%th= translate_attribute(:medical_history,:number)
						%th= translate_attribute(:medical_history,:dni)
						%th= translate_attribute(:medical_history,:patient)
						%th.options= t :options
				%tbody
					- for a_history in @medical_histories
						%tr
							%td=a_history.id
							%td=a_history.patient.dni
							%td=a_history.patient
							%td.options
		:javascript
			$(document).ready(function() {
						$('#custom_search_result').dataTable({
						"sDom": "<'row-fluid'<'span6'l><'span6'f>r>t<'row-fluid'<'span6'i><'span6'p>>",
						"sPaginationType": "bootstrap",
						"aLengthMenu": [[5, 10, 15, 25, 50, 100], [5, 10, 15, 25, 50, 100]],
						"iDisplayLength": 10,
						"aoColumns": [null, null, null, null],
						"oLanguage": {
							"oPaginate": {
									"sFirst": I18n.t("data_table.paginate.first"),
									"sLast": I18n.t("data_table.paginate.last"),
									"sNext": I18n.t("data_table.paginate.next"),
									"sPrevious": I18n.t("data_table.paginate.previous")
								},
								"sEmptyTable": I18n.t("data_table.emptyTable"),
								"sInfo": I18n.t("data_table.info"),
								"sInfoEmpty": I18n.t("data_table.infoEmpty"),
								"sInfoFiltered": I18n.t("data_table.infoFiltered"),
								"sInfoPostFix": I18n.t("data_table.infoPostFix"),
								"sSearch": I18n.t("data_table.search"),
								"sZeroRecords": I18n.t("data_table.zeroRecords"),
								"sLengthMenu": I18n.t("data_table.lengthMenu")
						}
				});
				$(".sorting:last").removeClass("sorting");
				$("[name='list_length']").selectpicker({
						style: 'btn-info',
						size: '10',
						width: '70px'
				});
			});

= render :file => 'layouts/application'